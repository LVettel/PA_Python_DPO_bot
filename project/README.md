# Телеграм бот
## Работает с API сайта  Hotels.com


Telegram-бот для поиска отелей с сайта Hotels.com.
Основные команды:
- /lowprice — вывод самых дешёвых отелей в городе;
- /highprice - вывод самых дорогих отелей в городе;
- /bestdeal — вывод самых удобных отелей для пользоватея, отсортированных по удалению от центра города, и не превышающие желаемую пользователем цену.
- /history - вывод последних команд пользователя и найденных по ним отелям.

## Функции

- По запросу пользователя находит города
- В выбранном городе находит отели
- Сортирует список отелей в соответствии с запросом
- Результат выводит в виде сообщений в чат


Реализован в формате обычного чата.

> Основная цель:
> Помощь в поиске удовлетворяющих
> запросам пользователя отелей


## Модули и функции

Проект состоит из 6 модулей:

- create_bot.py - Основной модуль программы телеграмм-бота. В нём реализуется связь с зарегестрированным ботом в Telegram;
- bot.py - Модуль запуска телеграмм-бота, через него реализуется запуск и регистрация команд бота;
- main_handlers.py - Модуль основных команд бота. Содержит команды:
-- /start и /help, отвечающие за объяснение функционала бота пользователю;
-- /hisroty - история поиска пользователя.
- lowprice_highprice_bestdeal.py - Модуль команд поиска отелей по нужной сортировке. Содержит в себе машину состояний для составления конфигурации поиска (город, дата заселения и уезда, количество комнат, фотографии отеля.). Модуль отвечает за передачу составленной конфигурации в модуль search.py. Также модуль отвечает за форматирование ответа, полученного из поиска;
- search.py - Модуль, отвечающий за обращение бота к Hotels.com. Содержит функции поиска id города, поиска отелей в этом городе, получаения адреса и фотографий нужных отелей;
- history.py - Содержит в себе модели базы данных, и отвечает за создание и получение результатов поиска пользователя.  

## Установка
Скачать директорию бота, выполнить команнду  pip install -r requirements.txt.
Для запуска программы в директории необходимо запустить файл bot.py.


```sh
cd
pip install -r requirements.txt
python bot.py
```
